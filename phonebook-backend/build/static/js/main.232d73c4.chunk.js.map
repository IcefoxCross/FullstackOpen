{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["Filter","_ref","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","handleNewNameChange","newNumber","handleNewNumberChange","onSubmit","type","Person","person","deletePerson","name","number","onClick","Persons","personsToShow","map","components_Person","key","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","searchName","setSearchName","_useState9","_useState10","notifMessage","setNotifMessage","_useState11","_useState12","notifType","setNotifType","useEffect","personService","initialPersons","filter","toLowerCase","includes","updatePerson","find","n","changedPerson","objectSpread","window","confirm","returnedPerson","setTimeout","catch","error","p","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","components_Persons","result","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.232d73c4.chunk.js","sourcesContent":["/* jshint esversion: 9 */\r\nimport React from 'react';\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                filter shown with <input value={value} onChange={onChange} />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","/* jshint esversion: 9 */\r\nimport React from 'react';\r\n\r\nconst PersonForm = ({addPerson,newName,handleNewNameChange,newNumber,handleNewNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNewNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNewNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","/* jshint esversion: 9 */\r\nimport React from 'react';\r\n\r\nconst Person = ({person,deletePerson}) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number} <button onClick={deletePerson}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","/* jshint esversion: 9 */\r\nimport React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({personsToShow,deletePerson}) => {\r\n    return (\r\n        <div>\r\n            {personsToShow.map(person => <Person key={person.name} person={person} deletePerson={() => deletePerson(person.name)} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","/* jshint esversion: 9 */\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst erase = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default {getAll,create,update,erase}","/* jshint esversion: 9 */\r\nimport React from 'react';\r\n\r\nconst Notification = ({message, type}) => {\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div className={type}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","/* jshint esversion: 9 */\r\nimport React, {useState,useEffect} from 'react';\r\nimport Filter from './Filter';\r\nimport PersonForm from './PersonForm';\r\nimport Persons from './Persons';\r\nimport personService from '../services/persons';\r\nimport Notification from './Notification';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState('');\r\n    const [searchName, setSearchName] = useState('');\r\n    const [notifMessage, setNotifMessage] = useState('');\r\n    const [notifType, setNotifType] = useState('');\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons);\r\n            });\r\n    }, []);\r\n\r\n    const personsToShow = (searchName === '')\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(searchName));\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        if (!persons.find((person) => person.name === newName)) {\r\n            personService\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setNotifMessage(`Added ${returnedPerson.name}`);\r\n                    setNotifType('success');\r\n                    setTimeout(() => {\r\n                        setNotifMessage(null);\r\n                    }, 5000);\r\n                    setPersons(persons.concat(returnedPerson));\r\n                    setNewName('');\r\n                    setNewNumber('');\r\n                });\r\n        }\r\n        else {\r\n            updatePerson(persons.find((person) => person.name === newName).id, personObject.number);\r\n        }\r\n    }\r\n\r\n    const updatePerson = (id, number) => {\r\n        const person = persons.find(n => n.id === id)\r\n        const changedPerson = {...person, number: number}\r\n\r\n        if (window.confirm(`${changedPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n            const id = changedPerson.id;\r\n            personService\r\n                .update(id, changedPerson)\r\n                .then(returnedPerson => {\r\n                    setNotifMessage(`Updated ${returnedPerson.name}`);\r\n                    setNotifType('success');\r\n                    setTimeout(() => {\r\n                        setNotifMessage(null);\r\n                    }, 5000);\r\n                    setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                })\r\n                .catch(error => {\r\n                    setNotifMessage(`Information of '${person.name}' has already been removed from server`);\r\n                    setNotifType('error');\r\n                    setTimeout(() => {\r\n                        setNotifMessage(null);\r\n                    }, 5000);\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                })\r\n        };\r\n    }\r\n\r\n    const deletePerson = name => {\r\n        const person = persons.find((person) => person.name === name);\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            personService\r\n                .erase(person.id)\r\n                .then(result => {\r\n                    setPersons(persons.filter(p => p.id !== person.id))\r\n                });\r\n        };\r\n    }\r\n\r\n    const handleNewNameChange = (event) => {\r\n        setNewName(event.target.value);\r\n    }\r\n\r\n    const handleNewNumberChange = (event) => {\r\n        setNewNumber(event.target.value);\r\n    }\r\n\r\n    const handleSearchNameChange = (event) => {\r\n        setSearchName(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={notifMessage} type={notifType} />\r\n            <Filter value={searchName} onChange={handleSearchNameChange} />\r\n            <h3>Add a new</h3>\r\n            <PersonForm addPerson={addPerson} newName={newName} handleNewNameChange={handleNewNameChange}\r\n                newNumber={newNumber} handleNewNumberChange={handleNewNumberChange} />\r\n            <h3>Numbers</h3>\r\n            <Persons personsToShow={personsToShow} deletePerson={deletePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","/* jshint esversion: 9 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}